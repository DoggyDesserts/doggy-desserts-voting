function createCard(dog) {
  const votedKey = `voted_June_2025_${dog.id}`;
  const hasVoted = localStorage.getItem(votedKey);

  const div = document.createElement("div");
  div.className = "dog-card";

  div.innerHTML = `
    <img src="${dog.image}" alt="${dog.name}" class="dog-img mb-4">
    <h3 class="text-lg font-semibold text-[var(--teal)]">${dog.name}</h3>
    <div class="vote-btn ${hasVoted ? 'voted' : ''}" data-id="${dog.id}">
      ♡ Vote
    </div>
  `;

  const button = div.querySelector(".vote-btn");
  if (!hasVoted) {
    button.addEventListener("click", () => {
      // Prevent multiple votes
      localStorage.setItem(votedKey, "true");
      button.classList.add("voted");
      button.textContent = "✓ Voted";

      // Send vote to Google Script
      fetch("https://script.google.com/macros/s/AKfycbzXjE7HeeWUshnrBxJCHDdgeiO29ovYJLUfH7bSr-bldkc95cskvCAlszKEQEwTju2T/exec", {
        method: "POST",
        body: new URLSearchParams({ id: dog.id }),
        mode: "no-cors"
      });
    });
  } else {
    button.textContent = "✓ Voted";
  }

  return div;
}
